/* Risograph Print Studio - Fonts */
@import url('https://fonts.googleapis.com/css2?family=Fraunces:ital,opsz,wght@0,9..144,300;0,9..144,400;0,9..144,500;0,9..144,600;0,9..144,700;1,9..144,400&family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700;1,9..40,400&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-paper-cream text-riso-navy font-body antialiased;
    background-image: 
      url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='grain'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.7' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23grain)' opacity='0.03'/%3E%3C/svg%3E");
  }
  
  h1, h2, h3, h4 {
    @apply font-display font-semibold tracking-tight;
  }

  /* カスタムスクロールバー - リソグラフ風 */
  ::-webkit-scrollbar {
    width: 10px;
    height: 10px;
  }
  ::-webkit-scrollbar-track {
    @apply bg-paper-warm rounded-full;
  }
  ::-webkit-scrollbar-thumb {
    @apply bg-neutral-warm rounded-full;
  }
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-neutral-muted;
  }
}

@layer components {
  /* プライマリボタン - マスタードアクセント */
  .btn-primary {
    @apply px-6 py-3 bg-riso-mustard text-riso-navy font-body font-semibold text-base
           rounded-riso border-2 border-riso-navy
           hover:bg-riso-mustard-light hover:shadow-card-hover
           active:shadow-card-active active:translate-x-[1px] active:translate-y-[1px]
           transition-all duration-150 cursor-pointer
           shadow-card;
  }

  /* セカンダリボタン - ペーパー風 */
  .btn-secondary {
    @apply px-6 py-3 bg-paper-warm text-riso-navy font-body font-medium text-base
           rounded-riso border-2 border-neutral-soft
           hover:bg-paper-aged hover:border-neutral-muted
           active:translate-x-[1px] active:translate-y-[1px]
           transition-all duration-150 cursor-pointer;
  }

  /* 危険ボタン - コーラル */
  .btn-danger {
    @apply px-6 py-3 bg-riso-coral text-white font-body font-semibold text-base
           rounded-riso border-2 border-riso-coral-dark
           hover:bg-riso-coral-dark
           active:translate-x-[1px] active:translate-y-[1px]
           transition-all duration-150 cursor-pointer
           shadow-card;
  }

  /* カードコンテナ - ペーパー風 */
  .card {
    @apply bg-white border-2 border-neutral-soft rounded-riso p-5 shadow-soft;
  }

  /* フォーム要素 */
  .input-field {
    @apply w-full px-4 py-3 bg-paper-warm border-2 border-neutral-soft rounded-card
           text-riso-navy placeholder-neutral-muted font-body
           focus:outline-none focus:border-riso-teal focus:ring-2 focus:ring-riso-teal/20
           transition-all duration-150;
  }

  .label {
    @apply block text-sm font-body font-semibold text-riso-navy mb-2;
  }

  /* チームドット */
  .team-dot {
    @apply w-3 h-3 rounded-full inline-block;
  }

  .team-dot-red {
    @apply bg-riso-coral;
  }

  .team-dot-blue {
    @apply bg-riso-teal;
  }

  /* スコアバッジ - リソグラフ風 */
  .score-badge {
    @apply inline-flex items-center gap-2 px-4 py-2 font-display text-xl rounded-card;
  }

  .score-badge-red {
    @apply bg-riso-coral/10 text-riso-coral border-2 border-riso-coral/30;
  }

  .score-badge-blue {
    @apply bg-riso-teal/10 text-riso-teal border-2 border-riso-teal/30;
  }

  /* プレイヤーパネル */
  .player-panel {
    @apply bg-white border-2 border-neutral-soft rounded-riso p-4 shadow-soft;
  }

  .player-item {
    @apply flex items-center gap-3 px-3 py-2 rounded-card transition-all duration-150;
  }

  .player-item-red {
    @apply bg-riso-coral/10 border-l-4 border-riso-coral;
  }

  .player-item-blue {
    @apply bg-riso-teal/10 border-l-4 border-riso-teal;
  }

  /* 役割バッジ */
  .role-badge {
    @apply text-xs px-2 py-1 font-body font-semibold rounded-full;
  }

  .role-badge-spymaster {
    @apply bg-riso-mustard text-riso-navy;
  }

  .role-badge-operative {
    @apply bg-neutral-warm text-riso-navy;
  }

  /* ヒント表示 - 吹き出し風 */
  .hint-display {
    @apply bg-riso-mustard/20 border-2 border-riso-mustard rounded-riso p-5 relative;
  }

  .hint-display::before {
    content: '';
    @apply absolute -top-3 left-8 w-6 h-6 bg-riso-mustard/20 border-l-2 border-t-2 border-riso-mustard;
    transform: rotate(45deg);
  }

  /* ターンインジケーター */
  .turn-indicator {
    @apply inline-flex items-center gap-2 px-4 py-2 rounded-full font-body font-semibold text-sm animate-pulse-soft;
  }

  .turn-indicator-red {
    @apply bg-riso-coral text-white;
  }

  .turn-indicator-blue {
    @apply bg-riso-teal text-white;
  }

  /* 勝利メッセージ */
  .victory-message {
    @apply font-display text-4xl font-bold animate-pop-in;
  }

  .victory-red {
    @apply text-riso-coral;
  }

  .victory-blue {
    @apply text-riso-teal;
  }
}

/* 版ズレ効果 - hover時に微妙にズレる */
.misprint-effect {
  position: relative;
}

.misprint-effect::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, transparent 40%, rgba(232,93,76,0.05) 50%, transparent 60%);
  pointer-events: none;
  opacity: 0;
  transition: opacity 0.2s;
}

.misprint-effect:hover::after {
  opacity: 1;
}

/* ゲームボードグリッド */
.game-board {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 12px;
}

@media (min-width: 768px) {
  .game-board {
    gap: 16px;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    transition-duration: 0.01ms !important;
  }
}
